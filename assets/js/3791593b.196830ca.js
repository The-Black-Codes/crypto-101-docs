"use strict";(self.webpackChunkcrypto_101_docs=self.webpackChunkcrypto_101_docs||[]).push([[119],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return u}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},f=Object.keys(e);for(o=0;o<f.length;o++)n=f[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(o=0;o<f.length;o++)n=f[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=o.createContext({}),l=function(e){var t=o.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},s=function(e){var t=l(e.components);return o.createElement(i.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},b=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,f=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),b=l(n),u=r,p=b["".concat(i,".").concat(u)]||b[u]||d[u]||f;return n?o.createElement(p,a(a({ref:t},s),{},{components:n})):o.createElement(p,a({ref:t},s))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var f=n.length,a=new Array(f);a[0]=b;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var l=2;l<f;l++)a[l]=n[l];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}b.displayName="MDXCreateElement"},395:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return i},metadata:function(){return l},toc:function(){return s},default:function(){return b}});var o=n(7462),r=n(3366),f=(n(7294),n(3905)),a=["components"],c={sidebar_position:6},i="Connecting React",l={unversionedId:"connecting-react",id:"connecting-react",title:"Connecting React",description:"<iframe",source:"@site/docs/connecting-react.mdx",sourceDirName:".",slug:"/connecting-react",permalink:"/crypto-101-docs/docs/connecting-react",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/connecting-react.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Running a local Blockchain Node with Hardhat",permalink:"/crypto-101-docs/docs/running-a-local-blockchain-node"},next:{title:"Web3.js: A slight detour",permalink:"/crypto-101-docs/docs/web3js"}},s=[{value:"Getting the address of your contract and exposing the ABI",id:"getting-the-address-of-your-contract-and-exposing-the-abi",children:[{value:"Adding the address to <code>env.local</code>",id:"adding-the-address-to-envlocal",children:[],level:3},{value:"Finding the Contract ABI",id:"finding-the-contract-abi",children:[],level:3}],level:2},{value:"The contents of <code>web3/counter.js</code>",id:"the-contents-of-web3counterjs",children:[],level:2}],d={toc:s};function b(e){var t=e.components,c=(0,r.Z)(e,a);return(0,f.kt)("wrapper",(0,o.Z)({},d,c,{components:t,mdxType:"MDXLayout"}),(0,f.kt)("h1",{id:"connecting-react"},"Connecting React"),(0,f.kt)("div",{style:{position:"relative",paddingBottom:"56.25%",height:0}},(0,f.kt)("iframe",{src:"https://www.loom.com/embed/cb0f1c7c6adf45d48dfab46f1e21bf31",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})),(0,f.kt)("h2",{id:"getting-the-address-of-your-contract-and-exposing-the-abi"},"Getting the address of your contract and exposing the ABI"),(0,f.kt)("p",null,"Looking back to the previous lesson where we deployed our contract. We will need to get the contract address from the console output of our running node."),(0,f.kt)("p",null,"It should look something like this:"),(0,f.kt)("p",null,(0,f.kt)("img",{alt:"Where to find the contract address",src:n(7428).Z,width:"866",height:"570"})),(0,f.kt)("h3",{id:"adding-the-address-to-envlocal"},"Adding the address to ",(0,f.kt)("inlineCode",{parentName:"h3"},"env.local")),(0,f.kt)("p",null,"Create a ",(0,f.kt)("inlineCode",{parentName:"p"},"env.local")," file in the root of your project directory and add the following line:"),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre"},"REACT_APP_CONTRACT_ADDRESS=<YOUR_CONTRACT_ADDRESS>\n")),(0,f.kt)("p",null,"This is to ensure that the contract address is available to the application but still inaccessible to the public."),(0,f.kt)("h3",{id:"finding-the-contract-abi"},"Finding the Contract ABI"),(0,f.kt)("p",null,"You'll find the contract JSON definition, which contains the ABI in the ",(0,f.kt)("inlineCode",{parentName:"p"},"artifacts/contracts/<ContractName>.sol/<ContractName>.json")," file. For our Counter contract, it should look like this:"),(0,f.kt)("p",null,(0,f.kt)("img",{alt:"Counter.json",src:n(9).Z,width:"271",height:"257"})),(0,f.kt)("p",null,"You can simply past the contents of the file into the ",(0,f.kt)("inlineCode",{parentName:"p"},"src")," directory of your React project so it will be accessible."),(0,f.kt)("h2",{id:"the-contents-of-web3counterjs"},"The contents of ",(0,f.kt)("inlineCode",{parentName:"h2"},"web3/counter.js")),(0,f.kt)("pre",null,(0,f.kt)("code",{parentName:"pre",className:"language-js"},'export const CONTRACT_ADDRESS = process.env.REACT_APP_CONTRACT_ADDRESS;\nexport const CONTRACT_JSON = {\n  _format: "hh-sol-artifact-1",\n  contractName: "Counter",\n  sourceName: "contracts/Counter.sol",\n  abi: [\n    {\n      inputs: [],\n      stateMutability: "nonpayable",\n      type: "constructor",\n    },\n    {\n      inputs: [],\n      name: "decrement",\n      outputs: [],\n      stateMutability: "nonpayable",\n      type: "function",\n    },\n    {\n      inputs: [],\n      name: "getCount",\n      outputs: [\n        {\n          internalType: "int16",\n          name: "",\n          type: "int16",\n        },\n      ],\n      stateMutability: "view",\n      type: "function",\n    },\n    {\n      inputs: [],\n      name: "increment",\n      outputs: [],\n      stateMutability: "nonpayable",\n      type: "function",\n    },\n  ],\n  bytecode:\n    "0x608060405234801561001057600080fd5b5060008060006101000a81548161ffff021916908360010b61ffff16021790555061021a806100406000396000f3fe608060405234801561001057600080fd5b50600436106100415760003560e01c80632baeceb714610046578063a87d942c14610050578063d09de08a1461006e575b600080fd5b61004e610078565b005b6100586100b6565b6040516100659190610126565b60405180910390f35b6100766100cc565b005b60008081819054906101000a900460010b8092919061009690610170565b91906101000a81548161ffff021916908360010b61ffff16021790555050565b60008060009054906101000a900460010b905090565b60008081819054906101000a900460010b809291906100ea906101b9565b91906101000a81548161ffff021916908360010b61ffff16021790555050565b60008160010b9050919050565b6101208161010a565b82525050565b600060208201905061013b6000830184610117565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061017b8261010a565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff80008214156101ae576101ad610141565b5b600182039050919050565b60006101c48261010a565b9150617fff8214156101d9576101d8610141565b5b60018201905091905056fea2646970667358221220784ad2eac975e84d435a875fb6446e6216a40c545d6482dd2044a03ca4c2bb7c64736f6c634300080a0033",\n  deployedBytecode:\n    "0x608060405234801561001057600080fd5b50600436106100415760003560e01c80632baeceb714610046578063a87d942c14610050578063d09de08a1461006e575b600080fd5b61004e610078565b005b6100586100b6565b6040516100659190610126565b60405180910390f35b6100766100cc565b005b60008081819054906101000a900460010b8092919061009690610170565b91906101000a81548161ffff021916908360010b61ffff16021790555050565b60008060009054906101000a900460010b905090565b60008081819054906101000a900460010b809291906100ea906101b9565b91906101000a81548161ffff021916908360010b61ffff16021790555050565b60008160010b9050919050565b6101208161010a565b82525050565b600060208201905061013b6000830184610117565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061017b8261010a565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff80008214156101ae576101ad610141565b5b600182039050919050565b60006101c48261010a565b9150617fff8214156101d9576101d8610141565b5b60018201905091905056fea2646970667358221220784ad2eac975e84d435a875fb6446e6216a40c545d6482dd2044a03ca4c2bb7c64736f6c634300080a0033",\n  linkReferences: {},\n  deployedLinkReferences: {},\n};\n')))}b.isMDXComponent=!0},7428:function(e,t,n){t.Z=n.p+"assets/images/contract-adress-390f8e57b1df63d0c8592f8992ee0f86.png"},9:function(e,t,n){t.Z=n.p+"assets/images/contract-json-a30104e461f7a32b850fd5dc5c4e81d3.png"}}]);